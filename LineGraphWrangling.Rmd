---
title: "LineGraphWrangling"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
library(readr)
library(tidyverse)
library(dplyr)
library(janitor)
library(tidytext)
library(wordcloud)
library(textdata)
```

```{r}
biden_linegraph_vector <- (list.files(path = "biden_speeches"))[1:167]
```

```{r}
all_biden_linegraph <- data.frame()
for(i in 1:167){
  Biden_i <- read_tsv(paste0("biden_speeches/", biden_linegraph_vector[i]), col_names = FALSE) %>%
    mutate(file = biden_linegraph_vector[i])
  all_biden_linegraph <- bind_rows(all_biden_linegraph, Biden_i)
}
```

```{r}
trump_linegraph_vector <- (list.files(path = "trump_speeches"))
```

```{r}
all_trump_linegraph <- data.frame()
for(j in 1:119){
  Trump_j <- read_tsv(paste0("trump_speeches/", trump_linegraph_vector[j]), col_names = FALSE) %>%
    mutate(file = trump_linegraph_vector[j])
  all_trump_linegraph <- bind_rows(all_trump_linegraph, Trump_j)
}
```

```{r}
biden_linegraph_words <- all_biden_linegraph %>%
  unnest_tokens(output = word, input = X1)
```

```{r}
biden_linegraph_words2 <- biden_linegraph_words %>%
  anti_join(stop_words, by = "word")
```

```{r}
trump_linegraph_words <- all_trump_linegraph %>%
  unnest_tokens(output = word, input = X1)
```

```{r}
trump_linegraph_words2 <- trump_linegraph_words %>%
  anti_join(stop_words, by = "word")
```

```{r}
biden_linegraph_words3 <- biden_linegraph_words2 %>%
  count(word, sort = TRUE)
```

```{r}
trump_linegraph_words3 <- trump_linegraph_words2 %>%
  count(word, sort = TRUE)
```

```{r}
final_biden_linegraph <- data.frame()
final_biden_linegraph <- right_join(biden_linegraph_words2, biden_linegraph_words3, by = "word")
```

```{r}
final_trump_linegraph <- data.frame()
final_trump_linegraph <- right_join(trump_linegraph_words2, trump_linegraph_words3, by = "word")
```

```{r}
final_biden_linegraph$file <- gsub(".txt", "", final_biden_linegraph$file)
```

```{r}
final_trump_linegraph$file <- gsub(".txt", "", final_trump_linegraph$file)
```













